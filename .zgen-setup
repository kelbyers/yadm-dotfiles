# vim:ft=shellscript
# load zgen
source "${HOME}/.zgen/zgen.zsh"

# if the init scipt doesn't exist
if ! zgen saved; then
    echo "Creating a zgen save"

    # Disable loading default Prezto modules
    # This is necessary due to a quirk of zgen that will load these plugins after
    # our custom plugins, overwriting our customizations
    # https://github.com/tarjoilija/zgen/issues/74
    export ZGEN_PREZTO_LOAD_DEFAULT=0

    zgen oh-my-zsh
    # zgen oh-my-zsh plugins/compleat
    zgen oh-my-zsh plugins/git
    zgen oh-my-zsh plugins/colored-man-pages
    zgen oh-my-zsh plugins/common-aliases
    zgen oh-my-zsh plugins/dirpersist
    zgen oh-my-zsh plugins/last-working-dir
    zgen oh-my-zsh plugins/z
    zgen oh-my-zsh plugins/sudo
    zgen oh-my-zsh plugins/wd
    zgen oh-my-zsh plugins/vagrant
    zgen oh-my-zsh plugins/pip
    zgen oh-my-zsh plugins/python
    # pyenv \ ### DO NOT USE pyenv PLUGIN!!! Breaks pyenv!!!
    zgen oh-my-zsh plugins/bundler
    zgen oh-my-zsh plugins/brew
    zgen oh-my-zsh plugins/osx
    zgen load denysdovhan/spaceship-prompt spaceship
    zgen oh-my-zsh plugins/golang
    zgen oh-my-zsh plugins/helm
    zgen oh-my-zsh plugins/kubectl

    zgen load unixorn/autoupdate-zgen
    zgen load zsh-users/zsh-completions

    zgen save
fi
